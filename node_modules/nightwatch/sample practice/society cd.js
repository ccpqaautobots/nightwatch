/* jshint expr: true */
module.exports = {
  tags: ['IDM-Admin QA'],
  'AdminSanitySociety(QA)' : function (society) {
    society
      .url('http://idm-admin.qa.aop.cambridge.org')
      .pause(1000);

    //client.expect.element('body').to.be.present;
	society.waitForElementVisible('body',20000);
    //client.expect.element('#lst-ib').to.have.css('display');
	
    society.expect.element('html body div div form h4').text.to.match(/Cambridge Core Admin/).before(1000);
	//client.expect.element('h4').to.have.attribute('class').which.contains('ui dividing header');	
    //client.expect.element('body').to.have.attribute('class').which.contains('vasq');
    //client.expect.element('body').to.have.attribute('class').which.matches(/vasq$/);
    //client.expect.element('body').to.have.attribute('class').before(1000);

    society.expect.element('#username').to.be.enabled;
    society.expect.element('#password').to.be.enabled; 
	society.expect.element('#btn-login').to.be.enabled; 
	
    //client.expect.element('#hplogo').text.to.match(/Norge/).before(1000);

    society.setValue('#username', 'cambridgecoreadmin@cambridge.org').pause(500);
	society.setValue('#password', 'C0r3@dm1n').pause(500);
	society.click('#btn-login').pause(5000);
	society.expect.element('a').to.have.attribute('class').which.contains('item');	
	society.useXpath().click("*//i[@class='align justify icon']").pause(5000);
	society.click("*//div[@id='modules-menu']/div[contains(.,'Identities')]").pause(5000);
	society.click("*//div[@id='modules-menu']/div[3]/div/div[6]/span[contains(.,'Societies')]").pause(5000);
	society.click("*//a[contains(.,'Create Society')]").pause(5000);
	
	society.useCss().setValue('#acronym', 'NewSocietyAcronym').pause(500);
	society.useCss().setValue('#name', 'NewSociety20161028').pause(500);
	society.useCss().setValue('#address-1', '#14344 Gen. Tinio St. Bangkal').pause(500);
	society.useCss().setValue('#town-city', 'Makati City').pause(500);
	society.useXpath().setValue("*//div[@id='country']//input[@class='search']", 'Albania').pause(5000);
	society.useXpath().click("*//div[@data-value='ALB']").pause(5000);
	society.useCss().setValue('#zip-code', '12345').pause(500);
	society.useXpath().click("*//button[contains(.,'Create')]").pause(5000);
	society.useXpath().expect.element("//span[contains(.,'Society created successfully!')]").text.to.match(/Society created successfully!/).before(1000);
	
	society.useXpath().click("*//i[@class='align justify icon']").pause(5000);
	society.click("*//div[@id='modules-menu']/div[contains(.,'Identities')]").pause(5000);
	society.click("*//div[@id='modules-menu']/div[3]/div/div[6]/span[contains(.,'Societies')]").pause(5000);
	
	society.useXpath().setValue("*//input[@placeholder='By reference number, acronym, name or display name']", 'NewSociety20161028').pause(500);
	society.useXpath().click("*//span[contains(.,'View')]").pause(5000);
	
	society.useXpath().expect.element("*//span[contains(.,'ENABLED')]").to.be.visible;
	society.useXpath().expect.element("*//td[contains(.,'NewSocietyAcronym')]").to.be.visible;
	society.useXpath().expect.element("*//td[contains(.,'NewSociety20161028')]").to.be.visible;
	society.useXpath().expect.element("*//td[contains(.,'#14344 Gen. Tinio St. Bangkal')]").to.be.visible;
	society.useXpath().expect.element("*//td[contains(.,'Makati City')]").to.be.visible;
	society.useXpath().expect.element("*//td[contains(.,'Albania')]").to.be.visible;
	society.useXpath().expect.element("*//td[contains(.,'12345')]").to.be.visible;
	
	society.useXpath().click("*//button[@button='editButton']").pause(5000);
	society.useCss().setValue('#acronym', 'NewSocietyAcronymEdit').pause(500);
	society.useCss().setValue('#name', 'NewSociety20161028Edit').pause(500);
	society.useXpath().click("*//button[contains(.,'Update')]").pause(5000);
	society.useXpath().expect.element("//span[contains(.,'Society updated successfully!')]").text.to.match(/Society updated successfully!/).before(1000);
	
	society.useXpath().click("*//button[@button='deleteButton']").pause(5000);
	society.useXpath().click("*//div[7]//div[3]/button[span[contains(.,'Delete')]]").pause(5000);
	society.useXpath().expect.element("//span[contains(.,'Society deleted successfully!')]").text.to.match(/Society deleted successfully!/).before(1000);
	society.end();
  }
};
